<!DOCTYPE html>
<html>
  <body>
    <table align="center">
        <caption style="font-size: 25px;text-transform: capitalize; font-weight: bold;">User Details</caption>
      <thead>
        <tr class="header">
          <th>UserId</th>
          <th>Name</th>
          <th>Username</th>
          <th>Email</th>
          <th>City</th>
          <th>Phone</th>
          <th>Website</th>
          <th>Company</th>
        </tr>
      </thead>
      <tbody id="user-data"></tbody>
    </table>
    <style>
      table,
      th,
      td {
        border: 1px solid black;
        border-collapse: collapse;
        padding: 10px;
        text-align: left;
      }
      .header th {
        text-align: center;
        font-size: 15px;
        text-transform: uppercase;
        text-align: center;
        background-color: darkkhaki;
        color: white;
      }
      .tbody tr:nth-child(odd) {
        background-color: #f2f2f2;
      }
      .tbody tr td:nth-child(1) {
        text-align: center;
      }
    </style>
    <script>
      const userData = document.getElementById("user-data");
      function waitOneSecond() {
        return new Promise((resolve) => {
          setTimeout(() => resolve("Waited 1 second!"), 1000);
        });
      }

      async function getUser() {
        const msg = await waitOneSecond();
        console.log(msg);

        const response = await fetch(
          "https://jsonplaceholder.typicode.com/users"
        );
        const data = await response.json();
        data.forEach((user) => {
          const row = document.createElement("tr");
          const att = document.createAttribute("class");
          att.value = "tbody";
          userData.setAttributeNode(att);
          row.innerHTML = `
            <td>${user.id}</td>
            <td>${user.name}</td>
            <td>${user.username}</td>
            <td>${user.email}</td>
            <td>${user.address.city}</td>
            <td>${user.phone}</td>
            <td>${user.website}</td>
            <td>${user.company.name}</td>
        `;
          userData.appendChild(row);
        });
        console.log("Fetched User:", data);
      }

      getUser();
    </script>
  </body>
</html>
